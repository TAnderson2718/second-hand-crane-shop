"use strict";(wx["webpackJsonp"]=wx["webpackJsonp"]||[]).push([[934],{2090:function(e,s,n){var a=n(2180),c=n(8118),t=n(5308),i=n(7042),r=n(4460),l=n(597),o=n(1867),m=n(5023),x=n(201),h=n(1515),d=n(2954),u=n.n(d),j=n(1876),N=n(2269),v=function(e){function s(){var e;(0,i.Z)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=(0,l.Z)(this,s,[].concat(a)),(0,m.Z)(e,"state",{userInfo:{nickname:"\u7528\u6237",avatar:"https://picsum.photos/seed/avatar/100/100",phone:"138****0001",registration_date:"2024-01-01"},isLoggedIn:!1}),(0,m.Z)(e,"checkLoginStatus",function(){try{var s=u().getStorageSync("userInfo");s&&e.setState({userInfo:s,isLoggedIn:!0})}catch(e){console.error("\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25:",e)}}),(0,m.Z)(e,"handleLogin",(0,t.Z)((0,c.Z)().m(function e(){return(0,c.Z)().w(function(e){while(1)switch(e.n){case 0:try{(0,j.CF)("\u767b\u5f55\u529f\u80fd\u5f00\u53d1\u4e2d","none")}catch(e){console.error("\u767b\u5f55\u5931\u8d25:",e),(0,j.CF)("\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5","error")}case 1:return e.a(2)}},e)}))),(0,m.Z)(e,"handleLogout",(0,t.Z)((0,c.Z)().m(function s(){return(0,c.Z)().w(function(s){while(1)switch(s.n){case 0:try{u().removeStorageSync("userInfo"),e.setState({isLoggedIn:!1,userInfo:{nickname:"\u7528\u6237",avatar:"https://picsum.photos/seed/avatar/100/100",phone:"138****0001",registration_date:"2024-01-01"}}),(0,j.CF)("\u5df2\u9000\u51fa\u767b\u5f55")}catch(e){console.error("\u9000\u51fa\u767b\u5f55\u5931\u8d25:",e),(0,j.CF)("\u9000\u51fa\u767b\u5f55\u5931\u8d25","error")}case 1:return s.a(2)}},s)}))),(0,m.Z)(e,"navigateToPage",function(e){try{(0,j.T8)("/pages/".concat(e,"/").concat(e))}catch(e){console.error("\u9875\u9762\u8df3\u8f6c\u5931\u8d25:",e),(0,j.CF)("\u9875\u9762\u8df3\u8f6c\u5931\u8d25","error")}}),e}return(0,o.Z)(s,e),(0,r.Z)(s,[{key:"componentDidMount",value:function(){this.checkLoginStatus()}},{key:"render",value:function(){var e=this,s=this.state,n=s.userInfo,a=s.isLoggedIn;return(0,N.jsxs)(h.G7,{className:"profile",children:[(0,N.jsxs)(h.G7,{className:"profile-header card",children:[(0,N.jsxs)(h.G7,{className:"user-info",children:[(0,N.jsx)(h.Ee,{className:"avatar",src:n.avatar,mode:"aspectFill"}),(0,N.jsxs)(h.G7,{className:"user-details",children:[(0,N.jsx)(h.xv,{className:"nickname",children:n.nickname}),(0,N.jsx)(h.xv,{className:"phone",children:n.phone}),a&&(0,N.jsxs)(h.xv,{className:"registration",children:["\u6ce8\u518c\u65f6\u95f4: ",n.registration_date]})]})]}),(0,N.jsx)(h.G7,{className:"auth-actions",children:a?(0,N.jsx)(h.zx,{className:"btn btn-secondary btn-small",onClick:this.handleLogout,children:"\u9000\u51fa\u767b\u5f55"}):(0,N.jsx)(h.zx,{className:"btn btn-primary btn-small",onClick:this.handleLogin,children:"\u7acb\u5373\u767b\u5f55"})})]}),(0,N.jsxs)(h.G7,{className:"menu-section",children:[(0,N.jsxs)(h.G7,{className:"menu-group card",children:[(0,N.jsx)(h.xv,{className:"group-title",children:"\u6211\u7684\u4ea4\u6613"}),(0,N.jsxs)(h.G7,{className:"menu-item",onClick:function(){return e.navigateToPage("favorites")},children:[(0,N.jsxs)(h.G7,{className:"item-content",children:[(0,N.jsx)(h.xv,{className:"item-icon",children:"\u2764\ufe0f"}),(0,N.jsx)(h.xv,{className:"item-text",children:"\u6211\u7684\u6536\u85cf"})]}),(0,N.jsx)(h.xv,{className:"item-arrow",children:">"})]}),(0,N.jsxs)(h.G7,{className:"menu-item",onClick:function(){return e.navigateToPage("posts")},children:[(0,N.jsxs)(h.G7,{className:"item-content",children:[(0,N.jsx)(h.xv,{className:"item-icon",children:"\ud83d\udcdd"}),(0,N.jsx)(h.xv,{className:"item-text",children:"\u6211\u7684\u53d1\u5e03"})]}),(0,N.jsx)(h.xv,{className:"item-arrow",children:">"})]}),(0,N.jsxs)(h.G7,{className:"menu-item",onClick:function(){return e.navigateToPage("intentions")},children:[(0,N.jsxs)(h.G7,{className:"item-content",children:[(0,N.jsx)(h.xv,{className:"item-icon",children:"\ud83d\udd0d"}),(0,N.jsx)(h.xv,{className:"item-text",children:"\u6c42\u8d2d\u610f\u5411"})]}),(0,N.jsx)(h.xv,{className:"item-arrow",children:">"})]})]}),(0,N.jsxs)(h.G7,{className:"menu-group card",children:[(0,N.jsx)(h.xv,{className:"group-title",children:"\u5e2e\u52a9\u4e0e\u53cd\u9988"}),(0,N.jsxs)(h.G7,{className:"menu-item",onClick:function(){return(0,j.CF)("\u529f\u80fd\u5f00\u53d1\u4e2d","none")},children:[(0,N.jsxs)(h.G7,{className:"item-content",children:[(0,N.jsx)(h.xv,{className:"item-icon",children:"\u2753"}),(0,N.jsx)(h.xv,{className:"item-text",children:"\u5e2e\u52a9\u4e2d\u5fc3"})]}),(0,N.jsx)(h.xv,{className:"item-arrow",children:">"})]}),(0,N.jsxs)(h.G7,{className:"menu-item",onClick:function(){return(0,j.CF)("\u529f\u80fd\u5f00\u53d1\u4e2d","none")},children:[(0,N.jsxs)(h.G7,{className:"item-content",children:[(0,N.jsx)(h.xv,{className:"item-icon",children:"\ud83d\udcde"}),(0,N.jsx)(h.xv,{className:"item-text",children:"\u8054\u7cfb\u5ba2\u670d"})]}),(0,N.jsx)(h.xv,{className:"item-arrow",children:">"})]}),(0,N.jsxs)(h.G7,{className:"menu-item",onClick:function(){return e.navigateToPage("report")},children:[(0,N.jsxs)(h.G7,{className:"item-content",children:[(0,N.jsx)(h.xv,{className:"item-icon",children:"\ud83d\udea8"}),(0,N.jsx)(h.xv,{className:"item-text",children:"\u4e3e\u62a5\u6295\u8bc9"})]}),(0,N.jsx)(h.xv,{className:"item-arrow",children:">"})]})]}),(0,N.jsxs)(h.G7,{className:"menu-group card",children:[(0,N.jsx)(h.xv,{className:"group-title",children:"\u8bbe\u7f6e"}),(0,N.jsxs)(h.G7,{className:"menu-item",onClick:function(){return(0,j.CF)("\u529f\u80fd\u5f00\u53d1\u4e2d","none")},children:[(0,N.jsxs)(h.G7,{className:"item-content",children:[(0,N.jsx)(h.xv,{className:"item-icon",children:"\u2699\ufe0f"}),(0,N.jsx)(h.xv,{className:"item-text",children:"\u8bbe\u7f6e"})]}),(0,N.jsx)(h.xv,{className:"item-arrow",children:">"})]}),(0,N.jsxs)(h.G7,{className:"menu-item",onClick:function(){return(0,j.CF)("\u529f\u80fd\u5f00\u53d1\u4e2d","none")},children:[(0,N.jsxs)(h.G7,{className:"item-content",children:[(0,N.jsx)(h.xv,{className:"item-icon",children:"\u2139\ufe0f"}),(0,N.jsx)(h.xv,{className:"item-text",children:"\u5173\u4e8e\u6211\u4eec"})]}),(0,N.jsx)(h.xv,{className:"item-arrow",children:">"})]})]})]})]})}}])}(x.Component),g={navigationBarTitleText:"\u6211\u7684"};Page((0,a.createPageConfig)(v,"pages/profile/profile",{root:{cn:[]}},g||{}))}},function(e){var s=function(s){return e(e.s=s)};e.O(0,[107,216,592],function(){return s(2090)});e.O()}]);